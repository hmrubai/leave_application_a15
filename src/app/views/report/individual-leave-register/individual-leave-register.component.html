<div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header bg-blue">
          <h5><i class="fa fa-list"></i> Individual Leave Register Report</h5>
          <div class="col-lg-1 form-control-sm float-right fs-top">
            <button class="btn btn-secondary" (click)="resetFilterForm()" >Reset</button>
          </div>
          <ng-select [items]="employeeList" bindLabel="name" class="col-lg-2 form-control-sm float-right fs-top"
            bindValue="id" [(ngModel)]="employee_id" (change)="onChangeEmployee($event)" placeholder="Select Employee">
                <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                    <span><strong>{{ item.name }} - {{item.email}}</strong></span>
                </ng-template>
          </ng-select>
          <div class="col-lg-2 form-control-sm float-right fs-top">
            <input type="date"  [(ngModel)]="end_date" (change)="changeFilterDate()" id="end_date" class="form-control" placeholder="End Date">
          </div>
          <div class="col-lg-2 form-control-sm float-right fs-top">
            <input type="date"  [(ngModel)]="start_date" (change)="changeFilterDate()" id="start_date" class="form-control" placeholder="Start Date">
          </div>
          
        </div>
        <div class="card-body table-responsive">
          <div class="col-lg-1 form-control-sm float-right fs-top" *ngIf="applicationList.length > 0">
            <button class="btn btn-blue" (click)="downloadRegisterReport()" >Download</button>
          </div>
          <br *ngIf="applicationList.length > 0"/>
          <br *ngIf="applicationList.length > 0"/>
          <table class="table table-bordered table-sm">
            <thead>
              <tr>
                <th>Leave Type</th>
                <th>Total Balance</th>
                <th>Total Avail Days</th>
                <th>Total Application Count</th>
                <th>Half Days Count</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of applicationList; let i = index;">
                <td><strong>{{ item.leave_title }}</strong></td>
                <td><strong>{{ item.leave_balance.total_days}}</strong></td>
                <td><strong>{{ item.total_applied_days }} Days</strong></td>
                <td><strong>{{ item.total_leave_count }}</strong></td>
                <td><strong>{{ item.half_day_count }}</strong></td>
              </tr>
              <tr *ngIf="applicationList.length <= 0">
                <td colspan="8">No Data Found!</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="card-footer">
            {{ applicationList.length }} Rows
        </div>
      </div>
    </div>
</div>
<block-ui></block-ui>
